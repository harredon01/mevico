<ion-header>
    <ion-toolbar>
        <ion-buttons slot="start">
            <ion-back-button></ion-back-button>
        </ion-buttons>
        <ion-title>
            Select Date & Time
        </ion-title>
    </ion-toolbar>
    <ion-card>
        <ion-item>
            <ion-avatar item-start>
                <img src="assets/imgs/profile1.png">
            </ion-avatar>
            <h2>Dr. Josephan Williamson</h2>
            <p>Cardiac Surgeon</p>
        </ion-item>
    </ion-card>
</ion-header>

<ion-content class="bg-light">
    <div class="calender-container" *ngIf="!dateSelected">
        <div class="calander">
            <div class="calander-row">
                <div class="day active" *ngFor="let item of availableDates" (click)="selectDate(item)"><span>{{item | date :'E'}}</span>{{item | date :'d'}}</div>
            </div>
        </div>
    </div>
    <div class="icon-calander" *ngIf="!dateSelected">
        <ion-icon name="md-calendar" class="text-success"></ion-icon>
    </div>
    <div padding *ngIf="dateSelected">
        <p>Available Times</p>
        <div class="timeing">
            <ion-row>
                <ion-col size="3" *ngFor="let item of availabilitiesDate"><span>{{item.from}}-{{item.to}}</span></ion-col>
            </ion-row>
        </div>
        <p>Occupied Slots</p>
        <div class="timeing">
            <ion-row>
                <ion-col size="3" *ngFor="let item of selectedSpots"><span>{{item.starts_at | date :'h:mm A'}}-{{item.ends_at | date :'h:mm A'}}</span></ion-col>
            </ion-row>
        </div>
        <p>Appointment for...</p>
        <div class="difault-form">
            <ion-item>
                <ion-label>Start Time</ion-label>
                <ion-datetime display-format="h:mm A" picker-format="h:mm A" [(ngModel)]="startDateS" (ionChange)="selectStart()"></ion-datetime>
            </ion-item>
            <ion-item>
                <p>End Time: {{endDate | date :'h:mm a'}}</p>
            </ion-item>
            <ion-item>
                <ion-label>Cantidad</ion-label>
                <ion-select placeholder="Select One" [(ngModel)]="amount" (ionChange)="selectStart()">
                    <ion-select-option value="1">1</ion-select-option>
                    <ion-select-option value="2">2</ion-select-option>
                    <ion-select-option value="3">3</ion-select-option>
                    <ion-select-option value="4">4</ion-select-option>
                </ion-select>
            </ion-item>
            <br>  
            <ion-button full class="btn success" (click)="createBooking()">Seleccionar cita</ion-button>
        </div>
    </div>
</ion-content>